{% extends "base.html" %}

{% if config.extra.menu %}
    <nav>
        {% for item in config.extra.menu %}
            <a href="{{ item.link | replace_url }}">{{ item.name }}</a>
        {% endfor %}
    </nav>
{% endif %}

{% block content %}
<div class="home-container">
    <section class="post-list">
        {% for page in paginator.pages %}
        <article class="post-card">
            {% if page.extra.image %}
            <div class="post-thumbnail">
                <a href="{{ page.permalink }}">
                    <img src="{{ page.extra.image }}" alt="{{ page.title }}" loading="lazy">
                </a>
            </div>
            {% endif %}

            <div class="post-details">
                <header>
                    <span class="post-date">{{ page.date | date(format="%d/%m/%Y") }}</span>
                    <h2 class="post-title">
                        <a href="{{ page.permalink }}">{{ page.title }}</a>
                    </h2>
                </header>

                <div class="post-summary">
                    {% if page.summary %}
                        {{ page.summary | safe }}
                    {% else %}
                        {{ page.content | truncate(length=200) | safe }}
                    {% endif %}
                </div>

                <a href="{{ page.permalink }}" class="read-more">Leggi di più →</a>
            </div>
        </article>
        {% endfor %}
    </section>

    {# Navigazione Paginazione #}
    <nav class="pagination">
        {% if paginator.previous %}
            <a href="{{ paginator.previous }}">← Precedenti</a>
        {% endif %}
        <span class="page-number">{{ paginator.current_index }} / {{ paginator.number_pagers }}</span>
        {% if paginator.next %}
            <a href="{{ paginator.next }}">Successivi →</a>
        {% endif %}
    </nav>
</div>
{% endblock content %}